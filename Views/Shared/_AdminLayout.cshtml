@using Microsoft.AspNetCore.Http;
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor


<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Softprodigy-TimeLog</title>

    <!-- Bootstrap core CSS -->
    <link href="~/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="~/css/style.css" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.1.0/material.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.material.min.css" />

    <environment include="Development">
        <script src="~/lib/jquery/dist/jquery.js"></script>
        <script src="~/lib/bootstrap/dist/js/bootstrap.js"></script>
        @*<script src="~/vendor/jquery/jquery.min.js"></script>*@
        <script src="~/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

        <!-- Plugin JavaScript -->
        <script src="~/vendor/jquery-easing/jquery.easing.min.js"></script>

        <!-- Custom JavaScript for this theme -->
        <script src="~/js/scrolling-nav.js"></script>
        @*<script src="https://code.jquery.com/jquery-3.3.1.js"></script>*@
        <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.19/js/dataTables.material.min.js"></script>
        <script src="~/js/site.js" asp-append-version="true"></script>
    </environment>
    <environment exclude="Development">
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.3.1.min.js"
                asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
                asp-fallback-test="window.jQuery"
                crossorigin="anonymous"
                integrity="sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT">
        </script>
        <script src="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.7/bootstrap.min.js"
                asp-fallback-src="~/lib/bootstrap/dist/js/bootstrap.min.js"
                asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal"
                crossorigin="anonymous"
                integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa">
        </script>
        <script src="~/js/site.min.js" asp-append-version="true"></script>
        <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.19/js/dataTables.material.min.js"></script>
    </environment>
    <link rel="icon" href="~/images/fav-SPIMAGE.png" sizes="16x16 32x32" type="image/png">
    <style>
        /*.active {
            color: #fff;
            background-color: #212529;
            border-color: #32383e;
        }*/
    </style>


    @*<!-- Start of Async Drift Code -->
    <script>
        "use strict";

        !function () {
            var t = window.driftt = window.drift = window.driftt || [];
            if (!t.init) {
                if (t.invoked) return void (window.console && console.error && console.error("Drift snippet included twice."));
                t.invoked = !0, t.methods = ["identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on"],
                    t.factory = function (e) {
                        return function () {
                            var n = Array.prototype.slice.call(arguments);
                            return n.unshift(e), t.push(n), t;
                        };
                    }, t.methods.forEach(function (e) {
                        t[e] = t.factory(e);
                    }), t.load = function (t) {
                        var e = 3e5, n = Math.ceil(new Date() / e) * e, o = document.createElement("script");
                        o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
                        var i = document.getElementsByTagName("script")[0];
                        i.parentNode.insertBefore(o, i);
                    };
            }
        }();
        drift.SNIPPET_VERSION = '0.3.1';
        drift.load('wn37v3mfmw43');
    </script>
    <!-- End of Async Drift Code -->*@

</head>
<body id="page-top">
    <!-- Navigation -->
    <header id="mast-head">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-md-5 col-9">
                    <a class="menu" href="#"><img src="~/images/menu.png" alt=""></a><a href="">
                        <img class="logo" style="max-width:212px; margin-top:3px; position: relative;" src="~/images/sps-logo.png"
                             alt="" />
                    </a>
                </div>
                <div class="col-md-7 col-3 text-right top--right justify-content-end d-flex">
                    <ul>
                        <li class="dropdown">
                            <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
                               aria-expanded="false">
                                <img src="~/images/user.png" alt="user-image" class="img-circle img-inline">
                                <span>Hello @HttpContextAccessor.HttpContext.User.Claims.FirstOrDefault(c => c.Type == "FullName")?.Value !</span>
                            </a>
                            <ul class="dropdown-menu profile">
                                @*<li>
                                        <a href="#settings">
                                            <i class="fa fa-wrench"></i>
                                            Settings
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#profile">
                                            <i class="fa fa-user"></i>
                                            Profile
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#help">
                                            <i class="fa fa-info"></i>
                                            Help
                                        </a>
                                    </li>*@
                                <li class="last">
                                    <a asp-controller="Account" asp-action="Logout">
                                        <i class="fa fa-lock"></i>
                                        Logout
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <div class="dashboardHolder d-flex">

        <div class="toggle-strip">
        </div>

        <div class="side--bar">
            <ul>
                @if (HttpContextAccessor.HttpContext.User.Identity.IsAuthenticated)
                {
                    @if (HttpContextAccessor.HttpContext.User.IsInRole("Admin"))
                    {
                        <li id="Admin_Dashboard">
                            <a asp-area="" asp-controller="Admin" asp-action="Index">
                                <i class="fa fa-dashboard"></i>
                                <span class="title">Admin Dashboard</span>
                            </a>
                        </li>

                        <li id="Employee_List">
                            <a asp-area="" asp-controller="Admin" asp-action="EmployeeList">
                                <i class="fa fa-list-alt"></i>
                                <span class="title">Employee List</span>
                            </a>
                        </li>

                    }
                }
                @if (HttpContextAccessor.HttpContext.User.IsInRole("User"))
                {
                    @*<li id="Leave_Status">
                <a asp-area="" asp-controller="Dashboard" asp-action="Index">
                    <i class="fa fa-area-chart"></i>
                    <span class="title">Leave Status</span>
                </a>
            </li>*@
                    @*<li id="Leave_Summary">
                <a asp-area="" asp-controller="Dashboard" asp-action="LeaveSummary">
                    <i class="fa fa-pencil-square-o"></i>
                    <span class="title">My Leaves</span>
                </a>
            </li>*@
                }
                @if (HttpContextAccessor.HttpContext.User.Identity.IsAuthenticated)
                {
                    @if (HttpContextAccessor.HttpContext.User.IsInRole("Admin"))
                    {
                        <li id="EmployeDeatils_List">
                            <a asp-area="" asp-controller="Leaves" asp-action="Index">
                                <i class="fa fa-file-excel-o"></i>
                                <span class="title">Report</span>
                            </a>
                        </li>
                        <li id="EmployeRandomCode_List">
                            <a asp-area="" asp-controller="RandomCodeGenerator" asp-action="Index">
                                <i class="fa fa-lock"></i>
                                <span class="title">Authentication Token</span>
                            </a>
                        </li>
                        <li id="EmployeLateComing_List">
                            <a asp-area="" asp-controller="EmployeeDailyLog" asp-action="Index">
                                <i class="fa fa-clock-o"></i>
                                <span class="title">Late Coming History</span>
                            </a>
                        </li>
                        @*<li id="Appraisal_form">
                            <a asp-area="" asp-controller="Appraisal" asp-action="Index">
                                <i class="fa fa-clock-o"></i>
                                <span class="title">Appraisal form</span>
                            </a>
                        </li>*@
                    }
                }

            </ul>
        </div>
        <div class="timelog--parent">
            @RenderBody()

            <footer id="footer-area" class="d-flex justify-content-center">
                © 2010-2019 SoftProdigy All rights reserved.
            </footer>
        </div>
    </div>

    @* loader html part added on 1-feb-2019 *@
    <div style="display:none;" class="lds-wrapper">
        <div class="lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
    </div>
    @* loader html ends *@

    <!-- Bootstrap core JavaScript -->
    @*<script src="vendor/jquery/jquery.min.js"></script>
        <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="vendor/jquery-easing/jquery.easing.min.js"></script>*@

    <!-- Custom JavaScript for this theme -->
    <script>
        jQuery('.menu').click(function () {
            jQuery('.side--bar, .timelog--parent').toggleClass('menu-collapse');
        });
        $('.dropdown-toggle').click(function () {
            console.log('clicked');
            $('.dropdown .dropdown-menu').toggleClass('show');
        });

        //$('.side--bar').on('onload', 'li', function () {

        //    $('.side--bar li.active').removeClass('active');
        //    $(this).addClass('active');
        //});
        $('.side--bar li').click(function () {
            $('.side--bar .active').removeClass('active');
            $(this).addClass('active');

        });
        function sendCodeGeneratorEmail() {
            $.ajax({
                url: '/RandomCodeGenerator/GenerateCode/658',
                success: (res) => {
                    console.log(res);
                }
            });
        }
    </script>

</body>


</html>
